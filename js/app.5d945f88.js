(function(t){function e(e){for(var n,o,i=e[0],r=e[1],l=e[2],u=0,f=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&f.push(s[o][0]),s[o]=0;for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n]);d&&d(e);while(f.length)f.shift()();return c.push.apply(c,l||[]),a()}function a(){for(var t,e=0;e<c.length;e++){for(var a=c[e],n=!0,i=1;i<a.length;i++){var r=a[i];0!==s[r]&&(n=!1)}n&&(c.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},s={app:0},c=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],r=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=r;c.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"087e":function(t,e,a){"use strict";var n=a("461a"),s=a.n(n);s.a},"0b6c":function(t,e,a){},"12d4":function(t,e,a){"use strict";var n=a("0b6c"),s=a.n(n);s.a},3917:function(t,e,a){"use strict";var n=a("be05"),s=a.n(n);s.a},"461a":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[t.isOverlay?a("div",{staticClass:"overlay"}):t._e(),a("div",{staticClass:"container"},[a("Alert"),a("router-view")],1)])},c=[],o=a("2f62"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"fade"}},[t.isAlert?a("div",{class:["alert",t.type]},[a("div",{staticClass:"alert__text"},[t._v(" "+t._s(t.text)+" ")])]):t._e()])},r=[],l={name:"Alert",computed:Object(o["c"])(["isAlert","text","type"])},d=l,u=(a("3917"),a("2877")),f=Object(u["a"])(d,i,r,!1,null,"05f7114c",null),p=f.exports,v={components:{Alert:p},computed:Object(o["c"])(["isOverlay"])},h=v,m=Object(u["a"])(h,s,c,!1,null,null,null),_=m.exports,g=a("8c4f"),b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"header"},[a("router-link",{attrs:{to:"/"}},[a("h5",{staticClass:"header__btn"},[t._v("Go Back")])])],1),a("div",{staticClass:"contact"},[a("div",{staticClass:"contact__avatar"},[t._v("S")]),a("div",{staticClass:"contact__data"},[a("div",{staticClass:"contact__header"},[a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{placeholder:"First name"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{placeholder:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName "}})],1)]),a("div",{staticClass:"contact__content content"},[a("div",{staticClass:"content__phone"},[a("Input",{attrs:{placeholder:"Phone"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("div",{staticClass:"content__btn"},[a("Button",{attrs:{text:"+",btnStyle:"info"},on:{clickHandler:t.toggleFieldDialog}})],1)]),t._l(t.getFields,(function(e){return a("Field",{key:e.key,attrs:{uid:t.uid,field:e}})})),a("div",{staticClass:"contact__save"},[a("Button",{attrs:{text:"Save",type:"success"},on:{clickHandler:t.saveContactInfo}})],1)],2)]),t.isAddFieldDialog?a("AddFieldDialog",{attrs:{closeHandler:t.toggleFieldDialog}}):t._e()],1)},C=[],O=(a("4160"),a("b64b"),a("159b"),a("5530")),y=(a("96cf"),a("1da1")),w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("input",{staticClass:"input",attrs:{id:t.fieldId,type:t.type||"text",placeholder:t.placeholder||"Placeholder"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}}),a("label",{attrs:{for:t.fieldId}},[t._v(t._s(t.placeholder))])])},j=[],x={name:"Input",props:["type","placeholder","value"],data:function(){return{fieldId:this.placeholder+Math.random()}}},k=x,F=(a("c3ec"),Object(u["a"])(k,w,j,!1,null,"6c08c2ae",null)),N=F.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:["btn",t.btnStyle],on:{click:t.clickHandler}},[t._v(t._s(t.text||"Default")+" ")])},H=[],I={name:"Button",props:["text","btnStyle"],methods:{clickHandler:function(){this.$emit("clickHandler")}}},D=I,S=(a("087e"),Object(u["a"])(D,A,H,!1,null,null,null)),M=S.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog"},[a("div",{staticClass:"dialog__toolbar"},[a("h5",[t._v("Add new field")]),a("p",{staticClass:"dialog__close",on:{click:t.closeHandler}},[t._v("X")])]),a("div",{staticClass:"dialog__content"},[a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{placeholder:"Name"},model:{value:t.placeholder,callback:function(e){t.placeholder=e},expression:"placeholder"}})],1),a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{placeholder:"Value"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1)]),a("div",{staticClass:"dialog__footer footer footer__align-center"},[a("div",{staticClass:"footer__btn "},[a("Button",{attrs:{text:"Cancel",btnStyle:"cancel"},on:{clickHandler:t.closeHandler}})],1),a("div",{staticClass:"footer__btn"},[a("Button",{attrs:{text:"Save",btnStyle:"success"},on:{clickHandler:t.addNewField}})],1)])])},B=[],$={name:"AddFieldDialog",components:{Button:M,Input:N},data:function(){return{placeholder:"",value:""}},props:{closeHandler:Function},methods:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(o["b"])(["addField"])),Object(o["d"])(["showAlert"])),{},{addNewField:function(){if(this.placeholder&&this.value){var t={placeholder:this.placeholder,value:this.value};this.addField({contactId:this.$route.params.uid,field:t}),this.closeHandler()}else this.showAlert({text:"Please, fill in all field",type:"warning"})}})},E=$,P=Object(u["a"])(E,R,B,!1,null,null,null),T=P.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"field"},[a("div",{staticClass:"field__self"},[a("Input",{attrs:{placeholder:t.field.placeholder},model:{value:t.field.value,callback:function(e){t.$set(t.field,"value",e)},expression:"field.value"}})],1),a("div",{staticClass:"field__remove"},[a("Button",{attrs:{text:"X",btnStyle:"cancel"},on:{clickHandler:t.toggleModal}})],1),t.isModalOpen?a("AcceptDialog",{attrs:{header:"Delete field",content:"Are you sure you want to delete field?",acceptHandler:t.removeField,closeHandler:t.toggleModal}}):t._e()],1)},X=[],J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog"},[a("div",{staticClass:"dialog__toolbar"},[a("h5",[t._v(t._s(t.header))]),a("p",{staticClass:"dialog__close",on:{click:t.closeHandler}},[t._v("X")])]),a("div",{staticClass:"dialog__content"},[a("h3",[t._v(" "+t._s(t.content))])]),a("div",{staticClass:"dialog_footer footer footer__align-end"},[a("div",{staticClass:"footer__btn"},[a("Button",{attrs:{text:"Cancel",btnStyle:"cancel"},on:{clickHandler:t.closeHandler}})],1),a("div",{staticClass:"footer__btn"},[a("Button",{attrs:{text:"Yes",btnStyle:"success"},on:{clickHandler:t.acceptHandler}})],1)])])},U=[],G={name:"AcceptDialog",components:{Button:M},props:{header:String,content:String,closeHandler:Function,acceptHandler:Function}},V=G,Y=Object(u["a"])(V,J,U,!1,null,null,null),q=Y.exports,z={name:"Field",components:{AcceptDialog:q,Input:N,Button:M},props:["field","uid"],data:function(){return{isModalOpen:!1}},methods:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(o["b"])(["deleteField"])),Object(o["d"])(["toggleOverlay"])),{},{toggleModal:function(){this.isModalOpen=!this.isModalOpen,this.toggleOverlay()},removeField:function(){this.deleteField({contactId:this.uid,fieldId:this.field.id}),this.toggleModal()}})},K=z,Q=(a("955c"),Object(u["a"])(K,L,X,!1,null,"38ded1b3",null)),W=Q.exports,Z={name:"ContactInfo",components:{Field:W,AddFieldDialog:T,Button:M,Input:N},data:function(){return{isAddFieldDialog:!1,uid:"",firstName:"",lastName:"",phone:""}},computed:Object(o["c"])(["getContacts","getFields"]),mounted:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.retrieveContacts();case 2:t.uid=t.$route.params.uid,t.getContacts.forEach((function(e){if(e.uid===t.uid&&(t.firstName=e.firstName,t.lastName=e.lastName,t.phone=e.phone,e.fields)){var a=[];Object.keys(e.fields).forEach((function(t){e.fields[t].id=t,a.push(e.fields[t])})),t.updateFields(a)}}));case 4:case"end":return e.stop()}}),e)})))()},methods:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(o["d"])(["toggleOverlay","updateFields"])),Object(o["b"])(["retrieveContacts","updateContact"])),{},{toggleFieldDialog:function(){this.isAddFieldDialog=!this.isAddFieldDialog,this.toggleOverlay()},saveContactInfo:function(){var t={firstName:this.firstName,lastName:this.lastName,phone:this.phone,fields:this.getFields};this.updateContact({contact:t,uid:this.uid})}})},tt=Z,et=(a("fb72"),Object(u["a"])(tt,b,C,!1,null,"4552555a",null)),at=et.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper"},[a("div",{staticClass:"add-contact"},[a("Button",{attrs:{text:"+ Create contact"},on:{clickHandler:this.openAddingDialog}})],1),a("div",{staticClass:"list-contact"},[a("ListContacts")],1),t.isModal?a("AddContactDialog",{attrs:{closeHandler:t.openAddingDialog}}):t._e()],1)},st=[],ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"list"},t._l(t.getContacts,(function(t){return a("ContactItem",{key:t.id,attrs:{contact:t}})})),1)},ot=[],it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"item"},[a("div",{staticClass:"item__details"},[a("div",{staticClass:"item__data"},[a("div",{staticClass:"item__avatar"},[t._v(t._s(t.contact.firstName.charAt(0).toUpperCase()))]),a("div",{staticClass:"item__name"},[t._v(t._s(t.contact.firstName)+" "+t._s(t.contact.lastName))])]),a("div",{staticClass:"item__phone"},[t._v(t._s(t.contact.phone))])]),a("div",{staticClass:"item__controls"},[a("div",{on:{click:t.info}},[a("router-link",{attrs:{to:{name:"info",params:{uid:t.contact.uid}}}},[t._v("Info")])],1),a("div",{on:{click:t.toggleModal}},[t._v("X")])]),t.isRemove?a("AcceptDialog",{attrs:{header:"Delete contact",content:"Are you sure you want to remove contact?",acceptHandler:t.removeContact,closeHandler:t.toggleModal}}):t._e()],1)},rt=[],lt={components:{AcceptDialog:q},props:["contact"],data:function(){return{isRemove:!1}},methods:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(o["b"])(["deleteContact"])),Object(o["d"])(["toggleOverlay","updateFields"])),{},{toggleModal:function(){this.isRemove=!this.isRemove,this.toggleOverlay()},removeContact:function(){this.deleteContact(this.contact.uid),this.toggleModal()},info:function(){this.updateFields([])}})},dt=lt,ut=(a("12d4"),Object(u["a"])(dt,it,rt,!1,null,"5754cf1c",null)),ft=ut.exports,pt={components:{ContactItem:ft},computed:Object(o["c"])(["getContacts"]),methods:Object(o["b"])(["retrieveContacts"]),mounted:function(){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.retrieveContacts();case 1:case"end":return e.stop()}}),e)})))()}},vt=pt,ht=(a("ff49"),Object(u["a"])(vt,ct,ot,!1,null,"3d86cb4c",null)),mt=ht.exports,_t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dialog"},[a("div",{staticClass:"dialog__toolbar"},[a("h5",[t._v("Create new contact")]),a("p",{staticClass:"dialog__close",on:{click:t.closeHandler}},[t._v("X")])]),a("div",{staticClass:"dialog__content"},[a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{placeholder:"First name"},model:{value:t.firstName,callback:function(e){t.firstName=e},expression:"firstName"}})],1),a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{placeholder:"Last name"},model:{value:t.lastName,callback:function(e){t.lastName=e},expression:"lastName"}})],1),a("div",{staticClass:"input__wrapper"},[a("Input",{attrs:{type:"number",placeholder:"Phone number"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1)]),a("div",{staticClass:"dialog__footer footer footer__align-center"},[a("div",{staticClass:"footer__btn"},[a("Button",{attrs:{text:"Cancel",btnStyle:"cancel"},on:{clickHandler:t.closeHandler}})],1),a("div",{staticClass:"footer__btn"},[a("Button",{attrs:{text:"Save",btnStyle:"success"},on:{clickHandler:t.addContact}})],1)])])},gt=[],bt={name:"AddContact",components:{Button:M,Input:N},data:function(){return{firstName:"",lastName:"",phone:""}},props:{closeHandler:Function},methods:Object(O["a"])(Object(O["a"])(Object(O["a"])({},Object(o["b"])(["createContact"])),Object(o["d"])(["showAlert"])),{},{addContact:function(){if(this.lastName&&this.firstName&&this.phone){var t={firstName:this.firstName,lastName:this.lastName,phone:this.phone};this.firstName="",this.lastName="",this.phone="",this.createContact(t),this.closeHandler()}else this.showAlert({text:"Please, fill in all field",type:"warning"})}})},Ct=bt,Ot=Object(u["a"])(Ct,_t,gt,!1,null,null,null),yt=Ot.exports,wt={name:"Contacts",components:{Button:M,ListContacts:mt,AddContactDialog:yt},data:function(){return{isModal:!1}},methods:Object(O["a"])(Object(O["a"])({},Object(o["d"])(["toggleOverlay"])),{},{openAddingDialog:function(){this.toggleOverlay(),this.isModal=!this.isModal}})},jt=wt,xt=(a("c3d6"),Object(u["a"])(jt,nt,st,!1,null,"43944bd2",null)),kt=xt.exports;n["a"].use(g["a"]);var Ft=[{path:"/",component:kt},{path:"/contact-info/:uid",name:"info",component:at}],Nt=new g["a"]({mode:"history",base:"/",routes:Ft}),At=Nt,Ht={state:{isOpen:!1},actions:{},mutations:{toggleOverlay:function(t){t.isOpen=!t.isOpen}},getters:{isOverlay:function(t){return t.isOpen}}},It=(a("4de4"),a("bc3a")),Dt=a.n(It),St=Dt.a.create({baseURL:"https://book-of-contact.firebaseio.com/"});function Mt(t,e,a){t("showAlert",{text:e,type:a})}var Rt={state:{contacts:[]},actions:{retrieveContacts:function(t){return Object(y["a"])(regeneratorRuntime.mark((function e(){var a,n,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.commit,e.next=3,St.get("/contacts.json");case 3:return n=e.sent,e.next=6,n.data;case 6:s=e.sent,c=[],null!==s&&Object.keys(s).forEach((function(t){s[t].uid=t,c.push(s[t])})),a("updateContacts",c);case 10:case"end":return e.stop()}}),e)})))()},deleteContact:function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,St["delete"]("/contacts/".concat(e,".json"));case 3:s=a.sent,200===s.status?(n("updateDeletedContact",e),Mt(n,"Contact was deleted")):Mt(n,"Cannot delete contact. Try again later ...","warning");case 5:case"end":return a.stop()}}),a)})))()},createContact:function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,a.next=3,St.post("/contacts.json",e);case 3:s=a.sent,200===s.status?(n("saveCreatedContact",e),Mt(n,"Contact was created")):Mt(n,"Cannot create contact. Try again later ...","warning");case 5:case"end":return a.stop()}}),a)})))()},updateContact:function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function a(){var n,s,c,o,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,s=t.dispatch,c=e.contact,o=e.uid,a.next=4,St.put("/contacts/".concat(o,".json"),c);case 4:i=a.sent,200===i.status?(s("retrieveContacts"),n("saveCreatedContact",c),Mt(n,"Contact was save successfully.")):Mt(n,"Cannot save contact. Try again later ...","warning");case 6:case"end":return a.stop()}}),a)})))()}},mutations:{updateContacts:function(t,e){t.contacts=e},updateDeletedContact:function(t,e){t.contacts=t.contacts.filter((function(t){return t.uid!==e}))},saveCreatedContact:function(t,e){t.contacts.push(e)}},getters:{getContacts:function(t){return t.contacts}}},Bt=(a("4795"),{state:{text:"",type:"",status:!1},mutations:{showAlert:function(t,e){var a=e.text,n=e.type,s=void 0===n?"success":n;t.status=!0,t.text=a,t.type=s,setTimeout((function(){t.status=!1}),2500)}},getters:{isAlert:function(t){return t.status},text:function(t){return t.text},type:function(t){return t.type}}}),$t=(a("99af"),a("a630"),a("3ca3"),{state:{fields:[]},actions:{addField:function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function a(){var n,s,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,s=e.contactId,c=e.field,a.next=4,St.post("/contacts/".concat(s,"/fields.json"),c);case 4:o=a.sent,200===o.status?(n("saveField",c),Mt(n,"Field was created")):Mt(n,"Cannot save field. Try again later ...","warning");case 6:case"end":return a.stop()}}),a)})))()},deleteField:function(t,e){return Object(y["a"])(regeneratorRuntime.mark((function a(){var n,s,c,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=t.commit,s=e.contactId,c=e.fieldId,a.next=4,St["delete"]("/contacts/".concat(s,"/fields/").concat(c,".json"));case 4:o=a.sent,200===o.status?(n("updateDeletedField",c),Mt(n,"Field was deleted")):Mt(n,"Cannot delete field. Try again later ...","warning");case 6:case"end":return a.stop()}}),a)})))()}},mutations:{updateFields:function(t,e){t.fields=e},updateDeletedField:function(t,e){t.fields=t.fields.filter((function(t){return t.id!==e}))},saveField:function(t,e){Array.from(t.fields),t.fields.push(e)}},getters:{getFields:function(t){return t.fields}}});n["a"].use(o["a"]);var Et=new o["a"].Store({modules:{addContact:Ht,contacts:Rt,alert:Bt,fields:$t}});a("e008"),a("f41e");n["a"].config.productionTip=!1,new n["a"]({router:At,store:Et,render:function(t){return t(_)}}).$mount("#app")},"5f83":function(t,e,a){},6574:function(t,e,a){},7767:function(t,e,a){},9345:function(t,e,a){},"955c":function(t,e,a){"use strict";var n=a("6574"),s=a.n(n);s.a},9746:function(t,e,a){},be05:function(t,e,a){},c3d6:function(t,e,a){"use strict";var n=a("9746"),s=a.n(n);s.a},c3ec:function(t,e,a){"use strict";var n=a("7767"),s=a.n(n);s.a},e008:function(t,e,a){},f41e:function(t,e,a){},fb72:function(t,e,a){"use strict";var n=a("5f83"),s=a.n(n);s.a},ff49:function(t,e,a){"use strict";var n=a("9345"),s=a.n(n);s.a}});
//# sourceMappingURL=app.5d945f88.js.map